# 要件定義書

## 🏗️ 背景

エンジニアは毎日、設計や実装の判断をメモに残しています。

しかし、NotionやWikiのようなツールは**自由に書けすぎて構成がバラバラ**になります。「背景」「問題」「目的」といったテンプレートを作っても削除や並び替えができるので、結果として**設計の考え方を同じフォーマットで残せない**という問題があります。

## ❗ 課題

- 書く人によってフォーマットがバラバラで、内容が整理されていない
- 「なぜ」「どうして」「どうなった」という設計の意図が残らない
- 設計情報が文章のままで、検索や再利用ができない

## 🎯 目的

- **設計メモを同じフォーマットで残す仕組みを作る**
  - 例：どんな人が書いても、問題→原因→対策の流れで記録できるようなフォーマットを用意する
- 設計メモを構造化して保存し、あとから**検索・比較・再利用**できるようにする

## ⚙️ 機能要件（MVP版）

### 📝 ノート機能

- ノートをテンプレートに従って作成できる
- 入力項目は文字列のみ（後に画像やリンクも追加可能）
- ノートを検索できる（タイトルのみ部分一致、MVPでは本文検索は未実装）
- 公開済み（Publish）のノートまたは自分のノートを閲覧できる（他ユーザーの下書きは閲覧不可）
- 自分が作ったノートのみ編集・削除できる（物理削除）
- ノート作成時はテンプレートを必ず1つ選択
- 一度指定したテンプレートは後から変更できない
- 自分のノートをマイページで一覧表示
- 更新日時・作成者を記録

### 🧩 テンプレート機能

- テンプレートを作成できる
  - 入力項目を自由に設定（例：問題／原因／対策）
- テンプレートの一覧を見られる
- テンプレートを検索できる（タイトルのみ部分一致、MVPでは項目名検索は未実装）
- テンプレートの詳細を閲覧できる（項目構成を確認）
- テンプレートを編集できる（自分が作ったもののみ）
- テンプレートを削除できる（利用中テンプレートは削除できない、物理削除）
- 他ユーザーが作成したテンプレートを利用できる（全て公開）

### 🌱 将来の拡張予定

- **ノート間リンク**：関連する設計をつなげる
- **詳細履歴・差分**：何を変更したかを記録
- **外部共有（Notion連携など）**：Mini Notionで考えた設計を外部に共有する仕組み

## 🔐 非機能要件（MVP）

- **認証**：Googleログイン／ログアウト／初回登録（OAuth2）
- **データベース**：Postgres（Neon）、正規化されたテーブル構造
- **検索**：タイトルのみ部分一致（MVPでは本文・項目名検索は未実装）
- **UI**：PCブラウザ対応（スマホ最適化なし）
- **パフォーマンス**：軽量シングルユーザー規模を想定
- **デプロイ**：Cloud Run + Cloud Build（自動デプロイ）
- **CI/CD**：GitHub Actions
- **監視**：Cloud Loggingのみ（最低限）

## 💡 他ツールとの差別化

| 比較項目 | Notion / Wiki | Mini Notion |
|---------|---------------|-------------|
| 書き方 | 自由に変えられる | フォーマット固定で書ける |
| 情報の整理 | 書く人によって違う | 構造が統一される |
| 再利用性 | テキスト中心で再利用しづらい | 構造化されていて検索・比較しやすい |
| 目的 | なんでも書けるメモ | 設計の考え方を整理・保存する教材 |