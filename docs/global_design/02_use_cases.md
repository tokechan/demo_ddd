# ユースケース定義書

## 👥 アクター定義（MVP）

| **アクター名** | **ID** | **説明** | **主な行動** |
|---------------|--------|----------|-------------|
| **未ログインユーザー** | Guest | ログインしていない一般利用者。ログインページと公開情報のみ閲覧できる | Googleログイン、初回登録 |
| **ログインユーザー** | Account | 自分のGoogleアカウントでログインしているユーザー | ノート作成・編集・削除、テンプレート作成・編集、検索、マイページ閲覧 |
| **他のログインユーザー** | OtherAccount | ログインはしているが、自分以外が作成したノート・テンプレートを見るユーザー | 他人のノート・テンプレートを閲覧・利用のみ（編集不可） |

## ユースケース一覧

### 🔐 認証

- **UC-AUTH-Login**：Guestは Googleログインできる（初回は自動登録）
- **UC-AUTH-Logout**：Account/OtherAccountはログアウトできる

### 📝 ノート（固定フォーマットで「書く・見る・探す」）

- **UC-NOTE-Create**（Account）
  - テンプレートを1つ選んで新規ノートを作成する
  - 入力は**文字列のみ**
  - **デフォルト推奨フォーマット**：「問題 / 原因 / 対策」（各項目はMVPでは**必須にしない**）
- **UC-NOTE-Edit**（Account）
  - 自分のノートのみ編集できる
- **UC-NOTE-Delete**（Account）
  - 自分のノートのみ削除できる（物理削除）
- **UC-NOTE-View**（Account / OtherAccount）
  - ノート詳細を固定フォーマットで閲覧できる（作成者・更新日時を表示）
- **UC-NOTE-List**（Account / OtherAccount）
  - ノート一覧を更新日時順に表示
- **UC-NOTE-Search**（Account / OtherAccount）
  - タイトル・本文の**部分一致**検索ができる
- **UC-NOTE-StatusChange**（Account）
  - ステータスを **Draft ⇄ Publish** に切り替えられる
- **UC-NOTE-MyPage**（Account）
  - 自分のノートだけを一覧・フィルタして閲覧できる

### 🧩 テンプレート（フォーマットを定義・利用）

- **UC-TPL-Create**（Account）
  - テンプレートを作成し、**入力項目（ラベル/順序/任意・必須）**を設定できる
- **UC-TPL-List**（Account / OtherAccount）
  - 利用可能なテンプレート一覧を表示できる（自作＋他者公開）
- **UC-TPL-Search**（Account / OtherAccount）
  - テンプレート名・項目名で部分一致検索できる
- **UC-TPL-Detail**（Account / OtherAccount）
  - テンプレートの項目構成を確認できる
- **UC-TPL-Edit**（Account）
  - 自作テンプレートを編集できる（項目の追加/名称/順序/必須設定）
- **UC-TPL-Delete**（Account）
  - 自作テンプレートを削除できる **（要確認：使用中テンプレは削除NG）**
- **UC-TPL-Apply**（Account）
  - ノート作成時にテンプレートを選択して適用する（**作成後のテンプレ変更不可**）

## 🔒 権限の前提（MVP）

- **閲覧**：
  - テンプレート：全テンプレートは**公開**（誰でも閲覧可）
  - ノート：**公開済み（Publish）**のノートまたは**自分のノート**のみ閲覧可能
    - 下書き（Draft）は作成者のみ閲覧可能
- **編集/削除**：**作成者のみ**可能
- **公開範囲/共有設定**は後続で拡張予定

## 🔍 検索仕様

### ノート検索

- **検索対象**
  - タイトル（ノートのタイトル）のみ
  - ※MVPでは本文（セクション）の検索は未実装

- **検索方法**
  - 部分一致（LIKE検索）
  - 検索語を含むノートを一覧で表示

### テンプレート検索

- **検索対象**
  - タイトル（テンプレートの名前）のみ
  - ※MVPではセクション名（項目名）の検索は未実装

- **検索方法**
  - 部分一致検索（LIKE検索）
  - 検索語を含むテンプレートを一覧で表示